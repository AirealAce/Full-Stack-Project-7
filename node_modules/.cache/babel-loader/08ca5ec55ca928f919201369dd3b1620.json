{"ast":null,"code":"import _defineProperty from\"C:/Users/aaron/OneDrive/Desktop/Cabinent/Content/Code/Full-Stack-Project-7/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/aaron/OneDrive/Desktop/Cabinent/Content/Code/Full-Stack-Project-7/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/aaron/OneDrive/Desktop/Cabinent/Content/Code/Full-Stack-Project-7/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/aaron/OneDrive/Desktop/Cabinent/Content/Code/Full-Stack-Project-7/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/aaron/OneDrive/Desktop/Cabinent/Content/Code/Full-Stack-Project-7/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{useParams}from'react-router-dom';import'./EditPost.css';import{supabase}from'../client';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditPost=function EditPost(){var _useParams=useParams(),id=_useParams.id;var _useState=useState({name:'',class:'',description:''}),_useState2=_slicedToArray(_useState,2),character=_useState2[0],setCharacter=_useState2[1];var classes=[\"Martial Artist\",\"Beast\",\"Destroyer\",\"Holy Knight\",\"Predator\",\"Shinobi\",\"Archangel\",\"Druid\",\"Warlock\",\"Shinigami\",\"Mechamaster\",\"Artillerist\",\"Phantom\",\"Chronoshifter\"];useEffect(function(){var fetchCharacter=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$supabase$from$,data,error;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return supabase.from('Characters').select().eq('id',id).single();case 2:_yield$supabase$from$=_context.sent;data=_yield$supabase$from$.data;error=_yield$supabase$from$.error;if(error){console.error('Error fetching character:',error);}else{setCharacter(data);}case 6:case\"end\":return _context.stop();}}},_callee);}));return function fetchCharacter(){return _ref.apply(this,arguments);};}();fetchCharacter();},[id]);var handleChange=function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setCharacter(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},name,value));});};var updateCharacter=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(event){var _yield$supabase$from$2,data,error;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:event.preventDefault();_context2.next=3;return supabase.from('Characters').update({name:character.name,class:character.class,description:character.description}).eq('id',id);case 3:_yield$supabase$from$2=_context2.sent;data=_yield$supabase$from$2.data;error=_yield$supabase$from$2.error;if(error){console.log('Error updating character:',error);}else{console.log('Character updated:',data);window.location=\"/\";}case 7:case\"end\":return _context2.stop();}}},_callee2);}));return function updateCharacter(_x){return _ref2.apply(this,arguments);};}();var deleteCharacter=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var _yield$supabase$from$3,error;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return supabase.from('Characters').delete().eq('id',id);case 2:_yield$supabase$from$3=_context3.sent;error=_yield$supabase$from$3.error;if(error){console.log('Error deleting character:',error);}else{window.location=\"/\";}case 5:case\"end\":return _context3.stop();}}},_callee3);}));return function deleteCharacter(){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:updateCharacter,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Name\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",name:\"name\",value:character.name,onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"class\",children:\"Class\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"select\",{id:\"class\",name:\"class\",value:character.class,onChange:handleChange,children:classes.map(function(cls){return/*#__PURE__*/_jsx(\"option\",{value:cls,children:cls},cls);})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",children:\"Description\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"textarea\",{rows:\"5\",cols:\"50\",id:\"description\",name:\"description\",value:character.description,onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Submit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"deleteButton\",onClick:deleteCharacter,children:\"Delete\"})]})});};export default EditPost;","map":{"version":3,"names":["React","useState","useEffect","useParams","supabase","EditPost","id","name","class","description","character","setCharacter","classes","fetchCharacter","from","select","eq","single","data","error","console","handleChange","event","target","value","prev","updateCharacter","preventDefault","update","log","window","location","deleteCharacter","delete","map","cls"],"sources":["C:/Users/aaron/OneDrive/Desktop/Cabinent/Content/Code/Full-Stack-Project-7/src/pages/EditPost.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport './EditPost.css';\r\nimport { supabase } from '../client';\r\n\r\nconst EditPost = () => {\r\n    const { id } = useParams(); \r\n    const [character, setCharacter] = useState({ name: '', class: '', description: '' });\r\n\r\n        const classes = [\r\n            \"Martial Artist\",\r\n            \"Beast\",\r\n            \"Destroyer\", \r\n            \"Holy Knight\", \r\n            \"Predator\", \r\n            \"Shinobi\", \r\n            \"Archangel\", \r\n            \"Druid\", \r\n            \"Warlock\", \r\n            \"Shinigami\",\r\n            \"Mechamaster\",\r\n            \"Artillerist\",\r\n            \"Phantom\",\r\n            \"Chronoshifter\",\r\n    ];\r\n    useEffect(() => {\r\n        const fetchCharacter = async () => {\r\n            const { data, error } = await supabase\r\n                .from('Characters')\r\n                .select()\r\n                .eq('id', id)\r\n                .single();\r\n            if (error) {\r\n                console.error('Error fetching character:', error);\r\n            } else {\r\n                setCharacter(data);\r\n            }\r\n        };\r\n\r\n        fetchCharacter();\r\n    }, [id]);\r\n\r\n    const handleChange = (event) => {\r\n        const { name, value } = event.target;\r\n        setCharacter(prev => ({\r\n            ...prev,\r\n            [name]: value\r\n        }));\r\n    };\r\n\r\n    const updateCharacter = async (event) => {\r\n        event.preventDefault();\r\n        \r\n        const { data, error } = await supabase\r\n            .from('Characters')\r\n            .update({ name: character.name, class: character.class, description: character.description })\r\n            .eq('id', id);\r\n        \r\n        if (error) {\r\n            console.log('Error updating character:', error);\r\n        } else {\r\n            console.log('Character updated:', data);\r\n            window.location = \"/\"; \r\n        }\r\n    };\r\n\r\n    const deleteCharacter = async () => {\r\n        const { error } = await supabase\r\n            .from('Characters')\r\n            .delete()\r\n            .eq('id', id);\r\n\r\n        if (error) {\r\n            console.log('Error deleting character:', error);\r\n        } else {\r\n            window.location = \"/\";\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <form onSubmit={updateCharacter}>\r\n                <label htmlFor=\"name\">Name</label> <br />\r\n                <input type=\"text\" id=\"name\" name=\"name\" value={character.name} onChange={handleChange} /><br /><br />\r\n\r\n                <label htmlFor=\"class\">Class</label><br />\r\n                <select id=\"class\" name=\"class\" value={character.class} onChange={handleChange}>\r\n                    {classes.map(cls => (\r\n                        <option key={cls} value={cls}>{cls}</option>\r\n                    ))}\r\n                </select><br /><br />\r\n\r\n                <label htmlFor=\"description\">Description</label><br />\r\n                <textarea rows=\"5\" cols=\"50\" id=\"description\" name=\"description\" value={character.description} onChange={handleChange}></textarea><br />\r\n                \r\n                <input type=\"submit\" value=\"Submit\" />\r\n                <button className=\"deleteButton\" onClick={deleteCharacter}>Delete</button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default EditPost;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}